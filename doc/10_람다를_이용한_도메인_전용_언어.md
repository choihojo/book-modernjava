# 10. 람다를 이용한 도메인 전용 언어

`DSL (domain-specific language)`은 작은, 범용이 아니라 특정 도메인을 대상으로 만들어진 특수 프로그래밍 언어다. 예를 들어 `Maven`이나 `Gradle`은 빌드 과정을 표현하는 DSL로 간주할 수 있다. `HTML`, `CSS`는 웹페이지에 대한 DSL이다.

DSL에는 다음과 같은 장점이 있다.

- `간결함`: API는 비즈니스 로직을 간편하게 캡슐화하므로 반복을 피할 수 있고 코드를 간결하게 만들 수 있다.

- `가독성`: 도메인 영역의 용어를 사용하므로 개발팀이 아닌 도메인 전문가도 코드를 쉽게 이해할 수 있다. 결과적으로 다양한 조직 구성원 간에 코드와 도메인 영역이 공유될 수 있다.

- `유지보수`: 잘 설계된 DSL로 구현한 코드는 쉽게 유지보수하고 바꿀 수 있다. 유지보수는 비즈니스 관련 코드, 즉 가장 빈번히 바뀌는 애플리케이션 부분에 특히 중요하다.

- `높은 수준의 추상화`: DSL은 도메인과 같은 추상화 수준에서 동작하므로 도메인의 문제와 직접적으로 관련되지 않은 세부 사항을 숨긴다.

- `집중`: 비즈니스 도메인의 규칙을 표현할 목적으로 설계된 언어이므로 프로그래머가 특정 코드에 집중할 수 있다. 결과적으로 생산성이 좋아진다.

- `관심사분리`: 지정된 언어로 비즈니스 로직을 표혐함으로써 애플리케이션의 인프라구조에 관련된 문제와 독립적으로 비즈니스 관련된 코드에 집중하기가 용이하다. 결과적으로 유지보수가 쉬운 코드를 구현한다.

그렇지만 DSL은 만병통치약이 아니다. 다음과 같은 단점도 가지고 있다.

- `DSL 설계의 어려움`: 간결하게 제한적인 언어에 도메인 지식을 담는 것이 어렵다.

- `개발 비용`: 코드에 DSL을 추가하는 작업은 초기 프로젝트에 많은 비용과 시간이 소모되는 작업이다. 또한 DSL 유지보수와 변경을 프로젝트에 부담을 주는 요소다.

- `추가 우회 계층`: DSL은 추가적인 계층으로 도메인 모델을 감싸며 이 때 계층을 최대한 작게 만들어 성능 문제를 회피한다.

- `새로 배워야 하는 언어`: 요즘에는 한 프로젝트에도 여러가지 언어를 사용하는 추세다. 하지만 DSL을 프로젝트에 추가하면서 팀이 배워야 하는 언어가 한 개 더 늘어난다는 부담이 있다. 여러 비즈니스 도메인을 다루는 개별 DSL을 사용하는 상황이라면 이들을 유기적으로 동작하도록 합치는 일이 어려울 수 있다.

- `호스팅 언어 한계`: 일부 자바 같은 `GPL (general-purpose language)`은 장황하고 엄격한 문법을 가졌다. 이런 언어로는 사용자 친화적인 DSL을 만들기 어렵다. 자바의 람다식이 이 문제를 보완해준다.
